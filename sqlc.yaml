version: "2"
sql:
  - schema: "internal/database/script/user.schema.sql"
    queries: "internal/database/script/user.query.sql"
    engine: "postgresql"
    gen:
      go:
        package: "user"  # Đổi từ "database" để match package riêng
        out: "internal/database/user"
        sql_package: "pgx/v5"  # Use pgx/v5 instead of database/sql
        rename:
          "users": "User"
        output_files_suffix: ""  # Thêm hậu tố cho tất cả file (tùy chọn)
        output_models_file_name: "user.model.go"  # OK, sẽ là user.model.go
        output_querier_file_name: "user.querier.go"  # Cho interface (nếu bật emit_interface)
        output_db_file_name: "user.db.go"  # Cho DB implementation
        emit_json_tags: true
        emit_interface: true  # Bật để có querier.go
        emit_result_struct_pointers: true
        emit_params_struct_pointers: true
        emit_exact_table_names: false
        emit_exported_queries: true
