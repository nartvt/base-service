server:
  profile: local
  http:
    appName: base-service
    port: 8081
    enableTLS: false
    readTimeout: 10000
    writeTimeout: 10000
  grpc:
    port: 9081
    enableTLS: false
    readTimeout: 10000
    writeTimeout: 10000
log:
  level: -4
  jsonOutput: false
  addSource: true
middleware:
  token:
    # ⚠️ WARNING: NEVER commit real secrets to version control!
    # Use environment variables: APP_MIDDLEWARE_TOKEN_PASSWORDSALT, APP_MIDDLEWARE_TOKEN_ACCESSTOKENSECRET, etc.
    # These placeholder values will be overridden by environment variables in production
    passwordSalt: "CHANGE_ME_USE_ENV_VAR"
    accessTokenSecret: "CHANGE_ME_USE_ENV_VAR_MIN_32_BYTES"
    accessTokenExp: 10m # 10 minutes
    refreshTokenSecret: "CHANGE_ME_USE_ENV_VAR_MIN_32_BYTES"
    refreshTokenExp: 24h # 24 hours
  cors:
    allowedOrigins:
      - "http://localhost:3000"      # React/Vue/Angular dev server
      - "http://localhost:5173"      # Vite dev server
      - "http://localhost:8080"      # Alternative frontend port
    allowedMethods:
      - "GET"
      - "POST"
      - "PUT"
      - "DELETE"
      - "OPTIONS"
      - "PATCH"
    allowedHeaders:
      - "Origin"
      - "Content-Type"
      - "Accept"
      - "Authorization"
      - "X-Language"
      - "X-Request-ID"
    exposedHeaders:
      - "X-Request-ID"
    allowCredentials: true
    maxAge: 86400
  rateLimit:
    # General API rate limiting
    enabled: true                   # Enable/disable rate limiting
    max: 100                         # Max requests per window
    expiration: 10m                   # Time window (1 minute)
    skipFailedReq: false             # Count failed requests
    skipSuccessReq: false            # Count successful requests
    limitReached: "Too many requests, please try again later."
    #Authentication endpoint rate limiting (stricter)
    authEnabled: true                # Enable/disable auth rate limiting
    authMax: 100                     # Max login attempts per window
    authExpiration: 10m               # Time window (1 minute)
    # Distributed rate limiting (for multi-server deployments)
    useRedis: true                   # Use Redis for distributed rate limiting
    redisDB: 1                       # Redis database number for rate limiting (separate from cache DB 0)
database:
  driverName: postgres
  host: localhost
  port: 5432
  userName: postgres
  # ⚠️ WARNING: Never hardcode passwords! Use APP_DATABASE_PASSWORD environment variable
  password: "CHANGE_ME_USE_ENV_VAR"
  dbName: orders
  sslMode: disable
  maxOpenConnections: 10
  maxIdleConnections: 10
  maxConnLifetime: 10s
  maxConnIdleTime: 10s
redis:
  host: localhost
  port: 6379
  password: ""
  db: 0
  maxIdle: 10
  dialTimeout: 10s
  readTimeout: 10s
  writeTimeout: 10s
